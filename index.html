<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<html>
<head>

    <!-- this is the text that shows up on your tab -->
    <title>Find yo friends!</title>

    <!-- this is the html code that loads styles -->
    <link href="style.css" type="text/css" rel="stylesheet" />
    <link href='http://fonts.googleapis.com/css?family=Noto+Sans' rel='stylesheet' type='text/css'>
      </head>
<body>
  <div align="center">
  <div class = "table" id = "mytable">
    <div id = "linkcontainer">

    </div>
    <div id = "headingcontainer">
    </div>
  <div id="default"> <!-- What is shown if there is no room_id -->
    <p id="demo">Click the button to find your friends:</p>

    <!--<form method="post" >
      <a><input type="submit" onclick = "getLocation()" value= "Find Your Friends!"  class="button"></a>
    </form> -->

    <button class = "location" onclick = "joinRoom(); var locate = setInterval(function(){getLocation()}, 500)"><span>Create!</span></button>
  </div>


<script src = "http://maps.google.com/maps/api/js?sensor=false"></script>
<script src = "client.js"></script>
<script>
var map;
var x = document.getElementById("demo");
function getLocation()
  {
  if (navigator.geolocation)
    {
    navigator.geolocation.getCurrentPosition(showPosition, undefined ,{enableHighAccuracy: true});
    }
  else{x.innerHTML = "Geolocation is not supported by this browser.";}
  }
function showPosition(position){
  lat = position.coords.latitude;
  lon = position.coords.longitude;
  latlon = new google.maps.LatLng(lat, lon);
  mapholder = document.getElementById('mapholder')
  mapholder.style.height = window.innerHeight-document.getElementById("mytable").offsetHeight-10+"px";
  mapholder.style.width = window.innerWidth;

  var myOptions = {
  center: latlon,zoom:14,
  mapTypeId: google.maps.MapTypeId.ROADMAP,
  mapTypeControl: true,
  navigationControlOptions:{style: google.maps.NavigationControlStyle.SMALL}
  };
  if (map == undefined){
    map = new google.maps.Map(document.getElementById("mapholder"),myOptions);
  }
  updateLocation([lat, lon]);
}
</script>
</div>
<div id="mapholder"></div>
</div>
</body>
</html>
